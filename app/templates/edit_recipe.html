{% extends "base.html" %}

{% block content %}
<div class="max-w-2xl mx-auto">
  <h1 class="text-2xl font-bold mb-6">Modifier la recette</h1>

  <form method="POST" class="space-y-6">
    <div>
      <label for="title" class="block text-sm font-medium text-gray-700">Titre</label>
      <input type="text" name="title" id="title" required value="{{ recipe.title }}"
        class="mt-1 block w-full rounded-md border-gray-300 shadow-sm focus:border-blue-500 focus:ring-blue-500">
    </div>

    <div>
      <label for="description" class="block text-sm font-medium text-gray-700">Description</label>
      <textarea name="description" id="description" rows="3" required
        class="mt-1 block w-full rounded-md border-gray-300 shadow-sm focus:border-blue-500 focus:ring-blue-500">{{ recipe.description }}</textarea>
    </div>

    <div>
      <label for="category_id" class="block text-sm font-medium text-gray-700">Catégorie</label>
      <select name="category_id" id="category_id" required
        class="mt-1 block w-full rounded-md border-gray-300 shadow-sm focus:border-blue-500 focus:ring-blue-500">
        {% for category in categories %}
        <option value="{{ category.id }}" {% if category.id == recipe.category_id %}selected{% endif %}>
          {{ category.name }}
        </option>
        {% endfor %}
      </select>
    </div>

    <div>
      <label for="ingredients" class="block text-sm font-medium text-gray-700">Ingrédients</label>
      <textarea name="ingredients" id="ingredients" rows="5" required
        class="mt-1 block w-full rounded-md border-gray-300 shadow-sm focus:border-blue-500 focus:ring-blue-500">{{ recipe.ingredients }}</textarea>
    </div>

    <div>
      <label for="instructions" class="block text-sm font-medium text-gray-700">Instructions</label>
      <textarea name="instructions" id="instructions" rows="5" required
        class="mt-1 block w-full rounded-md border-gray-300 shadow-sm focus:border-blue-500 focus:ring-blue-500">{{ recipe.instructions }}</textarea>
    </div>

    <div>
      <label for="prep_time" class="block text-sm font-medium text-gray-700">Temps de préparation (minutes)</label>
      <input type="number" name="prep_time" id="prep_time" required value="{{ recipe.prep_time }}"
        class="mt-1 block w-full rounded-md border-gray-300 shadow-sm focus:border-blue-500 focus:ring-blue-500">
    </div>

    <div class="flex justify-end space-x-4">
      <a href="{{ url_for('recipe_detail', recipe_id=recipe.id) }}"
        class="px-4 py-2 border border-gray-300 rounded-md text-gray-700 hover:bg-gray-50">
        Annuler
      </a>
      <button type="submit" class="px-4 py-2 bg-blue-600 text-white rounded-md hover:bg-blue-700">
        Sauvegarder les modifications
      </button>
    </div>
  </form>
</div>
{% endblock %}